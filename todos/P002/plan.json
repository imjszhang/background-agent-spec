{
  "plan_id": "P002",
  "title": "将BGA实现为完整的Gemini CLI扩展",
  "description": "根据Gemini CLI Extensions文档，将Background Agent(BGA)工作流系统完整地实现为一个Gemini CLI扩展，提供统一的命令行界面和扩展机制集成",
  "created_at": "2025-08-04T17:51:07+08:00",
  "updated_at": "2025-08-04T18:00:57+08:00",
  "status": "pending",
  "referenced_files": {
    "core_files": [
      "docs/specs/spec.backgroundAgent.README.md",
      ".cursor/rules/bga.mdc"
    ],
    "config_files": [],
    "documentation": [
      "docs/specs/versions/spec.backgroundAgent.README/v1.3.0/spec.backgroundAgent.README.md",
      "docs/specs/VERSION_MANAGEMENT.md",
      "README.md"
    ],
    "test_files": [],
    "gemini_extension_files": [],
    "resource_files": [
      "todos/P002/resources/gemini-cli-extensions.md"
    ]
  },
  "tasks": [
    {
      "id": 1,
      "title": "设计Gemini扩展架构",
      "description": "分析BGA工作流与Gemini CLI扩展系统的集成点，设计扩展架构和接口",
      "status": "pending",
      "dependencies": [],
      "estimated_time": "45min",
      "related_files": [
        "docs/specs/spec.backgroundAgent.README.md",
        "todos/P002/resources/gemini-cli-extensions.md"
      ]
    },
    {
      "id": 2,
      "title": "创建扩展配置文件",
      "description": "创建gemini-extension.json配置文件，定义BGA扩展的基本信息、MCP服务器配置和工具排除规则",
      "status": "pending",
      "dependencies": [1],
      "estimated_time": "30min",
      "related_files": []
    },
    {
      "id": 3,
      "title": "实现BGA命令接口",
      "description": "创建BGA相关的TOML命令文件，包括plan、execute、status、feedback等核心命令",
      "status": "pending",
      "dependencies": [2],
      "estimated_time": "60min",
      "related_files": []
    },
    {
      "id": 4,
      "title": "开发MCP服务器端",
      "description": "实现BGA的MCP服务器，提供工作流执行的后端服务和工具集成",
      "status": "pending",
      "dependencies": [2],
      "estimated_time": "90min",
      "related_files": []
    },
    {
      "id": 5,
      "title": "创建扩展目录结构",
      "description": "建立完整的Gemini扩展目录结构，包括commands目录和相关资源文件",
      "status": "pending",
      "dependencies": [3, 4],
      "estimated_time": "20min",
      "related_files": []
    },
    {
      "id": 6,
      "title": "实现上下文文件集成",
      "description": "创建BGA.md上下文文件，集成BGA工作流规范和Gemini扩展使用说明",
      "status": "pending",
      "dependencies": [5],
      "estimated_time": "40min",
      "related_files": ["docs/specs/spec.backgroundAgent.README.md"]
    },
    {
      "id": 7,
      "title": "配置冲突解决机制",
      "description": "实现BGA扩展与其他Gemini扩展的命名冲突解决，确保命令前缀正确处理",
      "status": "pending",
      "dependencies": [5],
      "estimated_time": "25min",
      "related_files": []
    },
    {
      "id": 8,
      "title": "编写使用文档和示例",
      "description": "创建完整的使用文档、安装指南和命令示例，便于用户理解和使用",
      "status": "pending",
      "dependencies": [6, 7],
      "estimated_time": "50min",
      "related_files": []
    },
    {
      "id": 9,
      "title": "测试扩展功能",
      "description": "全面测试BGA Gemini扩展的各项功能，包括命令执行、工作流触发、状态管理等",
      "status": "pending",
      "dependencies": [8],
      "estimated_time": "60min",
      "related_files": []
    },
    {
      "id": 10,
      "title": "优化和文档完善",
      "description": "基于测试结果优化扩展实现，完善文档和错误处理机制",
      "status": "pending",
      "dependencies": [9],
      "estimated_time": "40min",
      "related_files": []
    }
  ],
  "execution_history": [],
  "metadata": {
    "total_tasks": 10,
    "estimated_total_time": "7hours",
    "complexity": "high",
    "priority": "high"
  }
}